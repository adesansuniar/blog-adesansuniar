document.addEventListener('DOMContentLoaded', function () {
  const searchBox = document.getElementById('searchBox');
  const searchResults = document.getElementById('searchResults');

  fetch('/search-mini.json')
    .then(response => response.json())
    .then(posts => {
      searchBox.addEventListener('input', function () {
        const keyword = this.value.toLowerCase();
        const filtered = posts.filter(post =>
          post.title.toLowerCase().includes(keyword) ||
          post.excerpt.toLowerCase().includes(keyword)
        );

        searchResults.innerHTML = filtered.map(post => `
          <div class="search-item">
            <h3><a href="${post.url}">${post.title}</a></h3>
            <small>${post.formatted_date}</small>
            <p>${post.excerpt}</p>
          </div>
        `).join('');
      });
    })
    .catch(error => {
      searchResults.innerHTML = `<p class="error">Gagal memuat data pencarian.</p>`;
      console.error('Search Error:', error);
    });
});
"category": {{ post.categories | jsonify }}
