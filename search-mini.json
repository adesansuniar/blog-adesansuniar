const categoryMap = {};

posts.forEach(post => {
  if (post.category) {
    const categories = Array.isArray(post.category) ? post.category : [post.category];
    categories.forEach(cat => {
      if (!categoryMap[cat]) categoryMap[cat] = [];
      categoryMap[cat].push(post);
    });
  }
});

// Contoh render kategori ke UI
const categoryList = document.getElementById('categoryList');
Object.keys(categoryMap).sort().forEach(cat => {
  const item = document.createElement('li');
  item.innerHTML = `<a href="#" data-cat="${cat}">${cat} (${categoryMap[cat].length})</a>`;
  categoryList.appendChild(item);
});

// Filter saat diklik
categoryList.addEventListener('click', function (e) {
  if (e.target.tagName === 'A') {
    e.preventDefault();
    const selectedCat = e.target.dataset.cat;
    renderResults(categoryMap[selectedCat]);
  }
});

// fungsi renderResults sudah kamu miliki
