<!-- Tombol Burger -->
<button class="nav-toggle" aria-label="Buka menu" aria-expanded="false">☰</button>

<!-- Overlay Gelap -->
<div class="nav-overlay" tabindex="-1"></div>

<!-- Burger Menu untuk Mobile -->
<nav class="nav-popup" aria-label="Navigasi Mobile">
  <button class="nav-close" aria-label="Tutup Menu">✖</button>
  <a href="{{ '/' | relative_url }}">Beranda</a>
  <a href="{{ '/katalog/' | relative_url }}">Katalog</a>
  <a href="{{ '/search.html' | relative_url }}">Cari</a>
  <a href="{{ '/tentang/' | relative_url }}">Tentang</a>
  <a href="https://wa.me/6288801758800" target="_blank">Kontak via WA</a>
</nav>

<!-- Navigasi Desktop -->
<nav class="main-nav" role="navigation" aria-label="Navigasi Utama">
  <ul class="nav-list">
    <li><a href="{{ '/' | relative_url }}">Beranda</a></li>
    <li><a href="{{ '/katalog/' | relative_url }}">Katalog</a></li>
    <li><a href="{{ '/search.html' | relative_url }}">Cari</a></li>
    <li><a href="{{ '/tentang/' | relative_url }}">Tentang</a></li>
    <li><a href="https://wa.me/6288801758800" target="_blank">Kontak</a></li>
  </ul>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const navToggle = document.querySelector(".nav-toggle");
    const navPopup = document.querySelector(".nav-popup");
    const navClose = document.querySelector(".nav-close");
    const navOverlay = document.querySelector(".nav-overlay");

    function openMenu() {
      navPopup.classList.add("open");
      navOverlay?.classList.add("active");
      navToggle.setAttribute("aria-expanded", "true");
    }

    function closeMenu() {
      navPopup.classList.remove("open");
      navOverlay?.classList.remove("active");
      navToggle.setAttribute("aria-expanded", "false");
    }

    navToggle?.addEventListener("click", openMenu);
    navClose?.addEventListener("click", closeMenu);
    navOverlay?.addEventListener("click", closeMenu);

    const links = document.querySelectorAll("nav a");
    const current = window.location.pathname;
    links.forEach(link => {
      if (link.getAttribute("href") === current || current.startsWith(link.getAttribute("href"))) {
        link.classList.add("active");
      }
    });
  });
</script>

