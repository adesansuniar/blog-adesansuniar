 {% assign data_search = site.data.search.posts %}
{% assign total_posts = data_search | size %}
{% assign first_post = data_search | first %}
{% assign last_post = data_search | last %}

<div class="search-validation">
  <h4>ðŸ§ª Validasi Search JSON</h4>
  <ul>
    <li><strong>Total Post Terdeteksi:</strong> {{ total_posts }}</li>
    <li><strong>Judul Terbaru:</strong> {{ first_post.title }} ({{ first_post.iso_date }})</li>
    <li><strong>Judul Terlama:</strong> {{ last_post.title }} ({{ last_post.iso_date }})</li>
    <li><strong>Kategori Teratas:</strong>
      {% assign all_categories = "" %}
      {% for post in data_search %}
        {% assign all_categories = all_categories | append: post.categories | join: "," | append: "," %}
      {% endfor %}
      {% assign sorted_categories = all_categories | split: "," | uniq | sort %}
      {% assign grouped = sorted_categories | group_by: 'it' %}
      {% for cat in grouped limit:3 %}
        {{ cat.name }} ({{ cat.items | size }}){% unless forloop.last %}, {% endunless %}
      {% endfor %}
    </li>
    <li><strong>Tag Terpopuler:</strong>
      {% assign all_tags = "" %}
      {% for post in data_search %}
        {% assign all_tags = all_tags | append: post.tags | join: "," | append: "," %}
      {% endfor %}
      {% assign sorted_tags = all_tags | split: "," | uniq | sort %}
      {% assign grouped_tags = sorted_tags | group_by: 'it' %}
      {% for tag in grouped_tags limit:3 %}
        {{ tag.name }} ({{ tag.items | size }}){% unless forloop.last %}, {% endunless %}
      {% endfor %}
    </li>
  </ul>
</div> 
